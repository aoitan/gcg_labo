<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Using Idle API Sample</title>
        <script>
            var idle = {
                time: 10,
                onidle: function () { output("onidle"); },
                onactive: function () { output("onactive"); }
            };
            function output(message) {
                var o = document.getElementById("output");
                var p = document.createElement("p");
                p.innerHTML = message;
                o.appendChild(p);
                console.log(message);
            }
            function setIdleObserver() {
                output("setIdleObserver");
                try {
                    navigator.addIdleObserver(idle);
                } catch (e) {
                    output("error addIdleObserver: " + e);
                }
            }
            function removeIdleObserver() {
                output("removeIdleObserver");
                try {
                    navigator.removeIdleObserver(idle);
                } catch (e) {
                    output("error removeIdleObserver: " + e);
                }
            }
        </script>
    </head>
    <body>
        <input type="button" value="add observer" onclick="setIdleObserver()" />
        <input type="button" value="remove observer" onclick="removeIdleObserver()" />
        <div id="output"></div>
        <script>
            for (var obj in navigator) {
                output(obj);
            }
        </script>
    </body>
</html>
